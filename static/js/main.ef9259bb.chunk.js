(this["webpackJsonpSyeda-todo-list"]=this["webpackJsonpSyeda-todo-list"]||[]).push([[0],{274:function(e,t,n){"use strict";n.r(t);var a=n(113),r=n(20),c=n.n(r),s=n(1),o=n(21),i=n.n(o),d=n(23),O=n(42),l=n(119),u=n(24),p={FETCH_TODOS_START:"FETCH_TODOS_START",FETCH_TODOS_SUCCEEDED:"FETCH_TODOS_SUCCEEDED",FETCH_TODOS_FAILED:"FETCH_TODOS_FAILED",ADD_TODO_START:"ADD_TODO_START",ADD_TODO_SUCCEEDED:"ADD_TODO_SUCCEEDED",ADD_TODO_FAILED:"ADD_TODO_FAILED",EDIT_TODO_START:"EDIT_TODO_START",EDIT_TODO_SUCCEEDED:"EDIT_TODO_SUCCEEDED",EDIT_TODO_FAILED:"EDIT_TODO_FAILED",REMOVE_TODO_START:"REMOVE_TODO_START",REMOVE_TODO_SUCCEEDED:"REMOVE_TODO_SUCCEEDED",REMOVE_TODO_FAILED:"REMOVE_TODO_FAILED",COMPLETE_TODO_START:"COMPLETE_TODO_START",COMPLETE_TODO_SUCCEEDED:"COMPLETE_TODO_SUCCEEDED",COMPLETE_TODO_FAILED:"COMPLETE_TODO_FAILED"},j={todos:[],loaded:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.FETCH_TODOS_SUCCEEDED:return{loaded:!0,todos:t.todos};case p.REMOVE_TODO:return Object(u.a)(Object(u.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});case p.EDIT_TODOS:return Object(u.a)(Object(u.a)({},e),{},{todos:e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),t.updates):e}))});default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.FETCH_TODOS_FAILED:case p.ADD_TODO_FAILED:case p.COMPLETE_TODO_FAILED:case p.EDIT_TODO_FAILED:case p.REMOVE_TODO_FAILED:return{message:p.message};default:return e}},D=n(13),E=function(){return fetch("https://practiceapi.devmountain.com/api/tasks")},b=function(e){var t=e.title,n=new Headers;return n.append("Content-Type","application/json"),fetch("https://practiceapi.devmountain.com/api/tasks",{method:"post",headers:n,body:JSON.stringify({title:t})})},m=function(e,t){var n=new Headers;return n.append("Content-Type","application/json"),n.append("Access-Control-Allow-Origin","*"),fetch("https://practiceapi.devmountain.com/api/tasks/".concat(e),{method:"PATCH",headers:n,body:JSON.stringify(t)})},_=function(e){return fetch("https://practiceapi.devmountain.com/api/tasks/".concat(e),{method:"delete"})},x=function(e){return fetch("https://practiceapi.devmountain.com/api/tasks/".concat(e),{method:"put"})},f=c.a.mark(y),C=c.a.mark(A),v=c.a.mark(I),S=c.a.mark(R),g=c.a.mark(w);function y(e){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.a)(E);case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.next=9,Object(D.b)({type:p.FETCH_TODOS_SUCCEEDED,todos:n});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(D.b)({type:p.FETCH_TODOS_FAILED,message:e.t0.message});case 15:case"end":return e.stop()}}),f,null,[[0,11]])}function A(e){var t,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b(e.todo);case 3:return t=a.sent,a.next=6,t.json();case 6:return n=a.sent,a.next=9,Object(D.b)({type:p.ADD_TODO_SUCCEEDED});case 9:return a.next=11,Object(D.b)({type:p.FETCH_TODOS_SUCCEEDED,todos:n});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(D.b)({type:p.ADD_TODO_FAILED,message:a.t0.message});case 17:case"end":return a.stop()}}),C,null,[[0,13]])}function I(e){var t,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m(e.id,e.updates);case 3:return t=a.sent,a.next=6,t.json();case 6:return n=a.sent,a.next=9,Object(D.b)({type:p.EDIT_TODO_SUCCEEDED});case 9:return a.next=11,Object(D.b)({type:p.FETCH_TODOS_SUCCEEDED,todos:n});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(D.b)({type:p.EDIT_TODO_FAILED,message:a.t0.message});case 17:case"end":return a.stop()}}),v,null,[[0,13]])}function R(e){var t,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_(e.id);case 3:return t=a.sent,a.next=6,t.json();case 6:return n=a.sent,a.next=9,Object(D.b)({type:p.REMOVE_TODO_SUCCEEDED});case 9:return a.next=11,Object(D.b)({type:p.FETCH_TODOS_SUCCEEDED,todos:n});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(D.b)({type:p.REMOVE_TODO_FAILED,message:a.t0.message});case 17:case"end":return a.stop()}}),S,null,[[0,13]])}function w(e){var t,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x(e.id);case 3:return t=a.sent,a.next=6,t.json();case 6:return n=a.sent,a.next=9,Object(D.b)({type:p.COMPLETE_TODO_SUCCEEDED});case 9:return a.next=11,Object(D.b)({type:p.FETCH_TODOS_SUCCEEDED,todos:n});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(D.b)({type:p.COMPLETE_TODO_FAILED,message:a.t0.message});case 17:case"end":return a.stop()}}),g,null,[[0,13]])}var k=c.a.mark(F);function F(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)(p.FETCH_TODOS_START,y);case 2:return e.next=4,Object(D.c)(p.ADD_TODO_START,A);case 4:return e.next=6,Object(D.c)(p.EDIT_TODO_START,I);case 6:return e.next=8,Object(D.c)(p.REMOVE_TODO_START,R);case 8:return e.next=10,Object(D.c)(p.COMPLETE_TODO_START,w);case 10:case"end":return e.stop()}}),k)}var L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.c,M=Object(l.a)(),N=function(){return{type:p.FETCH_TODOS_START}},U=function(e){return{type:p.REMOVE_TODO_START,id:e}},H=function(e){return{type:p.COMPLETE_TODO_START,id:e}},B=n(288),P=n(289),V=n(285),z=n(286),G=n(118),J=n.n(G),W=n(282),X=n.n(W),q=n(25),K=n(219),Q=n.n(K),Y=n(275),Z=n.n(Y),$=n(276),ee=n.n($),te=n(277),ne=n.n(te),ae=n(278),re=n.n(ae),ce=n(280),se=n.n(ce),oe=n(116),ie=n.n(oe),de=n(281),Oe=n.n(de),le=n(279),ue=n(287),pe=n(4),je=Object(d.b)(null,(function(e){return{removeTodo:function(t){return e(U(t))},completeTodo:function(t){return e(H(t))}}}))(Object(q.withStyles)((function(e){return{listItemCompleted:{textDecoration:"line-through"}}}))(Object(ue.a)((function(e){var t=e.todo,n=e.classes,a=e.removeTodo,r=e.completeTodo,c=e.history;return Object(pe.jsxs)(Z.a,{dense:!0,button:!0,onClick:function(){c.push("/edit/".concat(t.id))},className:n.ListItem,children:[Object(pe.jsx)(ee.a,{className:t.completed?n.listItemCompleted:null,primary:" ".concat(t.title)}),Object(pe.jsxs)(ne.a,{children:[Object(pe.jsx)(re.a,{variant:"raised",color:"default",size:"small",disabled:t.completed,tabIndex:-1,onClick:function(){return r(t.id)},children:"Completed"}),Object(pe.jsx)(le.a,{to:{pathname:"/edit/".concat(t.id)},style:{margin:"0px 15px"},children:Object(pe.jsx)(ie.a,{})}),Object(pe.jsx)(se.a,{onClick:function(){return a(t.id)},children:Object(pe.jsx)(Oe.a,{})})]})]},t.id)})))),Te=Object(d.b)((function(e){return{todos:e.todos.todos}}),null)(Object(q.withStyles)((function(e){return{listRoot:{flexGrow:1,width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}))((function(e){var t=e.classes,n=e.todos;return Object(pe.jsx)(X.a,{container:!0,justify:"center",children:Object(pe.jsx)(Q.a,{className:t.listRoot,children:n.map((function(e){return Object(pe.jsx)(je,{todo:e},e.id)}))})})}))),he=n(38),De=n(53),Ee=n(54),be=n(56),me=n(55),_e=n(221),xe=n.n(_e),fe=n(200),Ce=n.n(fe),ve=n(283),Se=n.n(ve),ge=function(e){Object(be.a)(n,e);var t=Object(me.a)(n);function n(){var e;Object(De.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",completed:!1},e.handleOnChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(he.a)({},a,r))},e.handleSubmitTodo=function(){""===e.state.title||e.state.title.length<3?console.log("Title is required for the todo"):(e.props.addTodo(e.state),e.setState({title:""}))},e}return Object(Ee.a)(n,[{key:"render",value:function(){return Object(pe.jsx)(X.a,{container:!0,justify:"center",children:Object(pe.jsx)(X.a,{item:!0,xs:12,className:this.props.classes.addNewRoot,children:Object(pe.jsx)(xe.a,{className:this.props.classes.paper,children:Object(pe.jsxs)(X.a,{container:!0,alignItems:"center",spacing:16,children:[Object(pe.jsx)(X.a,{item:!0,xs:12,children:Object(pe.jsx)(Ce.a,{variant:"display1",children:"TO-DO"})}),Object(pe.jsx)(X.a,{item:!0,xs:6,children:Object(pe.jsx)(Se.a,{name:"title",value:this.state.title,margin:"normal",onChange:this.handleOnChange})}),Object(pe.jsx)(X.a,{item:!0,xs:6,children:Object(pe.jsx)(re.a,{color:"primary",variant:"raised",onClick:this.handleSubmitTodo,children:"Add Todo"})})]})})})})}}]),n}(s.Component),ye=Object(d.b)(null,(function(e){return{addTodo:function(t){return e(function(e){return{type:p.ADD_TODO_START,todo:e}}(t))}}}))(Object(q.withStyles)((function(e){return{addNewRoot:{flexGrow:1,width:"100%",maxWidth:360,margin:2*e.spacing.unit},paper:{padding:2*e.spacing.unit}}}))(ge)),Ae=Object(d.b)(null,(function(e){return{fetchTodos:function(){return e(N())}}}))(Object(q.withStyles)((function(e){return{root:{flexGrow:1,backgroundColor:"#eee",height:"100vh"},control:{padding:2*e.spacing.unit},paper:{height:"100px",width:"200px",padding:3*e.spacing.unit}}}))((function(e){var t=e.classes;return Object(pe.jsx)(X.a,{container:!0,className:t.root,spacing:16,children:Object(pe.jsxs)(X.a,{item:!0,className:t.control,xs:12,children:[Object(pe.jsx)(ye,{}),Object(pe.jsx)(Te,{})]})})}))),Ie=n(284),Re=n.n(Ie),we=function(e){Object(be.a)(n,e);var t=Object(me.a)(n);function n(){var e;Object(De.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:"",description:"",error:""},e.handleBack=function(){e.props.history.push("/")},e.handleOnChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(he.a)({},a,r)),e.props.todo[a]=r},e.handleOnCompleted=function(){e.props.completeTodo(e.props.todo.id)},e.handleCancel=function(){var t=e.props,n=t.todo,a=t.initialTodo;e.setState(Object(u.a)({},e.props.initialTodo)),n.title=a.title,n.description=a.description},e.handleSave=function(){var t=e.props.todo,n=t.title,a=t.description,r=t.completed,c=t.id,s={title:n,description:a,completed:r};if(""===s.title||s.title.length<1)return e.setState({error:"Title cannot be empty!"});e.props.editTodo(c,s),e.props.history.push("/")},e.handleRemove=function(){e.props.removeTodo(e.props.todo.id),e.props.history.push("/")},e}return Object(Ee.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.todo,a=t.classes;return t.loaded?Object(pe.jsx)(X.a,{container:!0,justify:"center",children:Object(pe.jsx)(X.a,{item:!0,xs:12,className:a.detailsRoot,children:Object(pe.jsx)(xe.a,{children:Object(pe.jsxs)(X.a,{container:!0,className:a.detailsRoot,alignItems:"center",children:[Object(pe.jsx)(X.a,{item:!0,xs:12,children:Object(pe.jsxs)(re.a,{variant:"flat",color:"default",className:a.detailsBackButton,size:"medium",onClick:this.handleBack,children:[Object(pe.jsx)(Re.a,{}),Object(pe.jsx)(Ce.a,{variant:"button",className:a.detailsButtonText,children:"Back to List"})]})}),Object(pe.jsx)(X.a,{item:!0,xs:6,children:Object(pe.jsx)(Se.a,{label:"Title",name:"title",value:n.title,onChange:this.handleOnChange,className:a.detailsInput})}),Object(pe.jsx)(X.a,{item:!0,xs:6,children:Object(pe.jsx)(re.a,{variant:"raised",color:"default",size:"medium",disabled:n.completed,onClick:function(){return e.handleOnCompleted(n.id)},children:"Completed"})}),Object(pe.jsx)(X.a,{item:!0,xs:12,children:Object(pe.jsx)(Se.a,{label:"Description",multiline:!0,name:"description",value:n.description,onChange:this.handleOnChange,className:a.detailsDescription})}),Object(pe.jsx)(X.a,{item:!0,xs:12,children:Object(pe.jsxs)(X.a,{container:!0,justify:"space-evenly",spacing:8,children:[Object(pe.jsx)(X.a,{item:!0,xs:4,children:Object(pe.jsx)(re.a,{variant:"raised",color:"primary",onClick:this.handleSave,className:a.detailsButtons,children:"Save"})}),Object(pe.jsx)(X.a,{item:!0,xs:4,children:Object(pe.jsx)(re.a,{variant:"raised",color:"default",onClick:this.handleCancel,className:a.detailsButtons,children:"Cancel"})}),Object(pe.jsx)(X.a,{item:!0,xs:4,children:Object(pe.jsx)(re.a,{variant:"raised",color:"secondary",onClick:this.handleRemove,className:a.detailsButtons,children:"Remove"})})]})})]})})})}):Object(pe.jsx)("p",{children:"loading..."})}}]),n}(s.Component),ke=Object(d.b)((function(e,t){if(e.todos.loaded){var n=e.todos.todos.find((function(e){return e.id===parseInt(t.match.params.id,10)}));return{todo:n,initialTodo:{title:n.title,description:n.description,completed:n.completed},loaded:e.todos.loaded}}return{todo:{},initialTodo:{},loaded:e.todos.loaded}}),(function(e){return{fetchTodos:function(){return e(N())},editTodo:function(t,n){return e(function(e,t){return{type:p.EDIT_TODO_START,id:e,updates:t}}(t,n))},completeTodo:function(t){return e(H(t))},removeTodo:function(t){return e(U(t))}}}))(Object(q.withStyles)((function(e){return{detailsRoot:{flexGrow:1,width:"100%",maxWidth:360,padding:2*e.spacing.unit},detailsInput:{marginRight:e.spacing.unit},detailsDescription:{width:"100%",marginBottom:2*e.spacing.unit},detailsButtons:{width:"100%"},detailsBackButton:{marginBottom:e.spacing.unit},detailsButtonText:{fontSize:"0.8em"}}}))(we)),Fe=J()(),Le=function(){return Object(pe.jsx)(B.a,{history:Fe,children:Object(pe.jsxs)(P.a,{children:[Object(pe.jsx)(V.a,{exact:!0,path:"/",component:Ae}),Object(pe.jsx)(V.a,{path:"/edit/:id",component:ke}),Object(pe.jsx)(z.a,{path:"*",to:"/"})]})})},Me=function(){var e=Object(O.d)(Object(O.b)({todos:T,error:h}),L(Object(O.a)(M)));return M.run(F),e}(),Ne=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.dispatch(N());case 2:t=Object(pe.jsx)(d.a,{store:Me,children:Object(pe.jsx)(Le,{})}),i.a.render(t,document.getElementById("root"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.a.render(Object(pe.jsx)("p",{children:"loading..."}),document.getElementById("root")),Ne()}},[[274,1,2]]]);
//# sourceMappingURL=main.ef9259bb.chunk.js.map